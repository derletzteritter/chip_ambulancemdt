!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./client/client.ts")}({"./client/cl_main.ts":
/*!***************************!*\
  !*** ./client/cl_main.ts ***!
  \***************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst events_1 = __importDefault(__webpack_require__(/*! ../utils/events */ "./utils/events.ts"));\r\nconst fivem_1 = __webpack_require__(/*! ../utils/fivem */ "./utils/fivem.ts");\r\nconst client_1 = __webpack_require__(/*! ./client */ "./client/client.ts");\r\nonNet(\'esx:setJob\', (job) => {\r\n    client_1.ESX.GetPlayerData().job = job;\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCECAD",\r\n        method: "setJobGrade",\r\n        data: job.grade_label\r\n    }));\r\n});\r\nlet cadOpen = false;\r\nRegisterCommand(\'journal\', (source, args, raw) => {\r\n    if (client_1.ESX.GetPlayerData().job.name == "ambulance") {\r\n        if (!cadOpen) {\r\n            cadOpen = true;\r\n            cadOpenAnim();\r\n            newCadProp();\r\n            checkRole();\r\n            SendNuiMessage(JSON.stringify({\r\n                app: "AMBULANCEMDT",\r\n                method: "setVisibility",\r\n                data: true\r\n            }));\r\n            SetNuiFocus(true, true);\r\n            emitNet(events_1.default.FETCH_CREDENTIALS);\r\n            emitNet(events_1.default.FETCH_AMBULANCEPLAYERS);\r\n            emitNet(events_1.default.TREATMENTS_FETCH_ALL_TREATMENTS);\r\n            SendNuiMessage(JSON.stringify({\r\n                app: "AMBULANCECAD",\r\n                method: "setJobGrade",\r\n                data: client_1.ESX.GetPlayerData().job.grade_label\r\n            }));\r\n        }\r\n        else if (cadOpen) {\r\n            cadOpen = false;\r\n            SendNuiMessage(JSON.stringify({\r\n                app: "AMBULANCEMDT",\r\n                method: "setVisibility",\r\n                data: false\r\n            }));\r\n            SetNuiFocus(false, false);\r\n            cadCloseAnim();\r\n        }\r\n    }\r\n    else {\r\n        client_1.ESX.ShowHelpNotification(\'Du har ikke tilgang til Journalen\', true, false, 2000);\r\n    }\r\n}, false);\r\nlet prop = 0;\r\nlet propCreated = false;\r\nlet cadModel = "prop_cs_tablet";\r\nconst newCadProp = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    deleteCad();\r\n    if (!propCreated) {\r\n        RequestModel(cadModel);\r\n        while (!HasModelLoaded(cadModel)) {\r\n            yield fivem_1.Delay(1);\r\n        }\r\n        const playerPed = PlayerPedId();\r\n        const [x, y, z] = GetEntityCoords(playerPed, true);\r\n        prop = CreateObject(GetHashKey(cadModel), x, y, z + 0.2, true, true, true);\r\n        const boneIndex = GetPedBoneIndex(playerPed, 28422);\r\n        AttachEntityToEntity(prop, playerPed, boneIndex, 0.0, 0.0, 0.0, 0.0, 0.0, -0.0, true, true, false, true, 1.0, true);\r\n        propCreated = true;\r\n    }\r\n    else if (propCreated) {\r\n        console.log("prop already created");\r\n    }\r\n});\r\nfunction deleteCad() {\r\n    if (prop != 0) {\r\n        DeleteEntity(prop);\r\n        prop = 0;\r\n        propCreated = false;\r\n    }\r\n}\r\nfunction loadAnimDict(dict) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        while (!HasAnimDictLoaded(dict)) {\r\n            RequestAnimDict(dict);\r\n            yield fivem_1.Delay(100);\r\n        }\r\n    });\r\n}\r\n// amb@world_human_seat_wall_tablet@female@base | base\r\nfunction cadOpenAnim() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        deleteCad();\r\n        const dict = "amb@world_human_seat_wall_tablet@female@base";\r\n        yield loadAnimDict(dict);\r\n        TaskPlayAnim(PlayerPedId(), dict, "base", 6.0, -1, -1, 50, 0, false, false, false);\r\n        yield fivem_1.Delay(300);\r\n        yield newCadProp();\r\n    });\r\n}\r\nfunction cadCloseAnim() {\r\n    deleteCad();\r\n    ClearPedTasks(PlayerPedId());\r\n}\r\nonNet(events_1.default.SEND_CREDENTIALS, (credentials) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCEMDT",\r\n        method: "setCredentials",\r\n        data: credentials\r\n    }));\r\n});\r\nRegisterNuiCallbackType(\'ambu:cad:close\');\r\non(`__cfx_nui:ambu:cad:close`, () => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCEMDT",\r\n        method: "setVisibility",\r\n        data: false\r\n    }));\r\n    cadCloseAnim();\r\n    SetNuiFocus(false, false);\r\n    cadOpen = false;\r\n});\r\nfunction checkRole() {\r\n    let jobRole = client_1.ESX.GetPlayerData().job.grade_name;\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCEMDT",\r\n        method: "setRole",\r\n        data: jobRole\r\n    }));\r\n}\r\nonNet(events_1.default.SEND_AMBULANCEPLAYERS, (ambulancePlayers) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCE_UNITS",\r\n        method: "setUnits",\r\n        data: ambulancePlayers\r\n    }));\r\n});\r\nRegisterNuiCallbackType(events_1.default.EMPLOYEES_FETCH_EMPLOYEES);\r\non(`__cfx_nui:${events_1.default.EMPLOYEES_FETCH_EMPLOYEES}`, () => {\r\n    emitNet(events_1.default.EMPLOYEES_FETCH_EMPLOYEES);\r\n});\r\nRegisterNuiCallbackType(events_1.default.TREATMENTS_FETCH_EMPLOYEE_TREATMENTS);\r\non(`__cfx_nui:${events_1.default.TREATMENTS_FETCH_EMPLOYEE_TREATMENTS}`, (data) => {\r\n    emitNet(events_1.default.TREATMENTS_FETCH_EMPLOYEE_TREATMENTS, data.doctor);\r\n});\r\nRegisterNuiCallbackType(events_1.default.EMPLOYEES_FETCH_JOBLABEL);\r\non(`__cfx_nui:${events_1.default.EMPLOYEES_FETCH_JOBLABEL}`, (data) => {\r\n    emitNet(events_1.default.EMPLOYEES_FETCH_JOBLABEL, data);\r\n});\r\nonNet(events_1.default.EMPLOYEES_SEND_EMPLOYEES, (employees) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: \'AMBULANCECAD\',\r\n        method: \'setEmployees\',\r\n        data: employees\r\n    }));\r\n});\r\n\n\n//# sourceURL=webpack:///./client/cl_main.ts?')},"./client/cl_patients.ts":
/*!*******************************!*\
  !*** ./client/cl_patients.ts ***!
  \*******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst events_1 = __importDefault(__webpack_require__(/*! ../utils/events */ "./utils/events.ts"));\r\nonNet(events_1.default.PATIENTS_SEND_ALL_PATIENTS, (patients) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "PATIENTS",\r\n        method: "setPatients",\r\n        data: patients\r\n    }));\r\n});\r\nRegisterNuiCallbackType(events_1.default.PATIENTS_UPDATE_CREDENTIALS);\r\non(`__cfx_nui:${events_1.default.PATIENTS_UPDATE_CREDENTIALS}`, (data) => {\r\n    emitNet(events_1.default.PATIENTS_UPDATE_CREDENTIALS, data);\r\n});\r\nRegisterNuiCallbackType(events_1.default.PATIENTS_SEARCH_PATIENTS);\r\non(`__cfx_nui:${events_1.default.PATIENTS_SEARCH_PATIENTS}`, (data) => {\r\n    emitNet(events_1.default.PATIENTS_SEARCH_PATIENTS, data);\r\n});\r\nonNet(events_1.default.PATIENTS_UPDATE_CREDENTIALS_SUCCESS, () => {\r\n    emitNet(events_1.default.PATIENTS_FETCH_ALL_PATIENTS);\r\n});\r\n\n\n//# sourceURL=webpack:///./client/cl_patients.ts?')},"./client/cl_treatments.ts":
/*!*********************************!*\
  !*** ./client/cl_treatments.ts ***!
  \*********************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst events_1 = __importDefault(__webpack_require__(/*! ../utils/events */ "./utils/events.ts"));\r\nRegisterNuiCallbackType(events_1.default.TREATMETNS_FETCH_SCOPED_TREATMENTS);\r\non(`__cfx_nui:${events_1.default.TREATMETNS_FETCH_SCOPED_TREATMENTS}`, (data) => {\r\n    const patientName = data.patientName;\r\n    emitNet(events_1.default.TREATMETNS_FETCH_SCOPED_TREATMENTS, patientName);\r\n});\r\n// update treatment\r\nRegisterNuiCallbackType(events_1.default.TREATMENTS_UPDATE_TREATMENTS);\r\non(`__cfx_nui:${events_1.default.TREATMENTS_UPDATE_TREATMENTS}`, (data) => {\r\n    emitNet(events_1.default.TREATMENTS_UPDATE_TREATMENTS, data);\r\n});\r\nonNet(events_1.default.TREATMENTS_UPDATE_TREATMENTS_RESULT, (result) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCECAD",\r\n        method: "setNotification",\r\n        data: result,\r\n    }));\r\n});\r\n// Add new  treatment\r\nRegisterNuiCallbackType(events_1.default.TREATMENTS_ADD_TREATMENT);\r\non(`__cfx_nui:${events_1.default.TREATMENTS_ADD_TREATMENT}`, (data) => {\r\n    emitNet(events_1.default.TREATMENTS_ADD_TREATMENT, data);\r\n});\r\nonNet(events_1.default.TREATMENTS_ADD_TREATMENT_SUCCESS, (treatment) => {\r\n    emitNet(events_1.default.TREATMETNS_FETCH_SCOPED_TREATMENTS, treatment.name);\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCECAD",\r\n        method: "setNotification",\r\n        data: \'treatmentAddedSuccessful\',\r\n    }));\r\n});\r\nonNet(events_1.default.TREATMENTS_ADD_TREATMENT_FAILED, () => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCECAD",\r\n        method: "setNotification",\r\n        data: \'treatmentUpdatedSuccessful\',\r\n    }));\r\n});\r\n// sending treatments to nui\r\nonNet(events_1.default.TREATMENTS_SEND_TREATMENTS, (treatments) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "TREATMENTS",\r\n        method: "setTreatments",\r\n        data: treatments\r\n    }));\r\n});\r\nonNet(events_1.default.TREATMENTS_SEND_SCOPED_TREATMENTS, (scopedTreatments) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "TREATMENTS",\r\n        method: "setTreatments",\r\n        data: scopedTreatments\r\n    }));\r\n});\r\n// delete treatment\r\nRegisterNuiCallbackType(events_1.default.TREATMENTS_DELETE_TREATMENT);\r\non(`__cfx_nui:${events_1.default.TREATMENTS_DELETE_TREATMENT}`, (data) => {\r\n    emitNet(events_1.default.TREATMENTS_DELETE_TREATMENT, data);\r\n});\r\nonNet(events_1.default.TREATMENTS_DELETE_TREATMENT_SUCCESS, (treatment) => {\r\n    emitNet(events_1.default.TREATMETNS_FETCH_SCOPED_TREATMENTS, treatment.name);\r\n});\r\nonNet(events_1.default.TREATMENTS_DELETE_TREATMENT_RESULT, (result) => {\r\n    SendNuiMessage(JSON.stringify({\r\n        app: "AMBULANCECAD",\r\n        method: "setNotification",\r\n        data: result,\r\n    }));\r\n});\r\n\n\n//# sourceURL=webpack:///./client/cl_treatments.ts?')},"./client/client.ts":
/*!**************************!*\
  !*** ./client/client.ts ***!
  \**************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.ESX = void 0;\r\n__webpack_require__(/*! ./cl_main */ "./client/cl_main.ts");\r\n__webpack_require__(/*! ./cl_patients */ "./client/cl_patients.ts");\r\n__webpack_require__(/*! ./cl_treatments */ "./client/cl_treatments.ts");\r\nexports.ESX = null;\r\nsetTick(() => {\r\n    while (exports.ESX === null) {\r\n        emit("esx:getSharedObject", (obj) => (exports.ESX = obj));\r\n    }\r\n});\r\n\n\n//# sourceURL=webpack:///./client/client.ts?')},"./utils/events.ts":
/*!*************************!*\
  !*** ./utils/events.ts ***!
  \*************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = {\r\n    // patients\r\n    PATIENTS_FETCH_ALL_PATIENTS: 'ambu:fetchAllPatients',\r\n    PATIENTS_SEND_ALL_PATIENTS: 'ambu:sendAllPatients',\r\n    PATIENTS_UPDATE_CREDENTIALS: 'ambu:updatePatientCredentials',\r\n    PATIENTS_UPDATE_CREDENTIALS_SUCCESS: 'ambu:updatePatientCredentialsSuccess',\r\n    PATIENTS_SEARCH_PATIENTS: 'ambu:searchPatients',\r\n    // treatements\r\n    TREATMENTS_ADD_TREATMENT: 'ambu:newTreatmeant',\r\n    TREATMENTS_FETCH_ALL_TREATMENTS: 'ambu:fetchAllTreatments',\r\n    TREATMETNS_FETCH_SCOPED_TREATMENTS: 'ambu:fetchScopedTreatments',\r\n    TREATMENTS_SEND_TREATMENTS: 'ambu:sendTreatments',\r\n    TREATMENTS_SEND_SCOPED_TREATMENTS: 'ambu:sendScopedTreatments',\r\n    TREATMENTS_FETCH_EMPLOYEE_TREATMENTS: 'ambu:fetchEmployeeTreatments',\r\n    TREATMENTS_SEND_EMPLOYEE_TREATMENTS: 'ambu:sendEmployeeTreatments',\r\n    TREATMENTS_UPDATE_TREATMENTS: 'ambu:updateTreatment',\r\n    TREATMENTS_UPDATE_TREATMENTS_RESULT: 'ambu:updateTreatmentResult',\r\n    TREATMENTS_ADD_TREATMENT_SUCCESS: 'ambu:newTreatmentSuccess',\r\n    TREATMENTS_ADD_TREATMENT_FAILED: 'ambu:newTreatmentFailed',\r\n    TREATMENTS_DELETE_TREATMENT: 'ambu:deleteTreatment',\r\n    TREATMENTS_DELETE_TREATMENT_SUCCESS: 'ambu:deleteTreatmentSuccess',\r\n    TREATMENTS_DELETE_TREATMENT_RESULT: 'ambu:deleteTreatmentResult',\r\n    // source\r\n    FETCH_CREDENTIALS: 'ambu:fetchCredentials',\r\n    SEND_CREDENTIALS: 'ambu:sendCredentials',\r\n    // job checking \r\n    FETCH_AMBULANCEPLAYERS: 'ambu:fetchAmbulancePlayers',\r\n    SEND_AMBULANCEPLAYERS: 'ambu:sendAmbulancePlayers',\r\n    EMPLOYEES_FETCH_EMPLOYEES: 'ambu:fetchAmbulanceEmployees',\r\n    EMPLOYEES_SEND_EMPLOYEES: 'ambu:sendAmbulanceEmployees',\r\n    EMPLOYEES_FETCH_JOBLABEL: 'ambu:fetchJobLabel',\r\n    EMPLOYEES_SEND_JOBLABEL: 'ambu:sendJobLabel'\r\n};\r\n\n\n//# sourceURL=webpack:///./utils/events.ts?")},"./utils/fivem.ts":
/*!************************!*\
  !*** ./utils/fivem.ts ***!
  \************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.Delay = void 0;\r\nexports.Delay = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\n\n//# sourceURL=webpack:///./utils/fivem.ts?')}});